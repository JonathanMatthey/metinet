<div class="bg-light lter b-b wrapper-md">
	<div class="row">
		<div class="col-sm-6 col-xs-12">
			<h1 class="m-n font-thin h3 text-black">Your Projects</h1>
		</div>
		<div class="col-sm-6 col-xs-12">
			<a ui-sref="app.page.newproject" class="btn btn-primary btn-addon btn-sm pull-right">
				<i class="fa fa-plus"></i>Create New Project
			</a>
		</div>
	</div>
</div>
<div class="wrapper-md">
	<div class="row">
		<div class="col-sm-12">
			<div ng-hide="projects_returned">
				<div class="alert m-b-none text-center">
					<i class="fa fa-fw fa-spin fa-refresh"></i>&nbsp;&nbsp;Loading Projects...
				</div>
			</div>
			<div ng-show="projects.length == 0">
				<div class="alert alert-info m-b-none text-center">
					<h4 class="m-t-none">We couldn't find any projects associated with you.</h4>
					<p>Get started by creating a project using the button above.</p>
				</div>
			</div>
			<div class="panel panel-default" ng-show="projects.length > 0">
				<div class="table-responsive">
					<table class="table table-striped b-t b-light">
						<thead>
							<tr>
								<th>Project</th>
								<th class="text-center">Progress</th>
								<th class="text-center">Start Date</th>
								<th class="text-center">Contract End Date</th>
								<th class="text-center">Calculated End Date</th>
								<th colspan="2" class="text-center">Last Updated</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="project in projects"
								ui-sref="app.page.project.overview({project_id:project.id})"
								class="pointer">
								<td>
									{{ project.name }}
								</td>
								<td>
									<div class="progress progress-xs m-t-xs m-b-none">
										<div class="progress-bar bg-{{ project.status.colour }}" data-toggle="tooltip" data-original-title="{{project.progress}}%" style="width: {{project.progress}}%"></div>
									</div>
								</td>
								<td class="text-center">
									{{ project.start_date | formatFullDate }}
								</td>
								<td class="text-center">
									{{ project.end_date_contract | formatFullDate }}
								</td>
								<td class="text-center text-warning"
									ng-show="project.end_date_calculated == null">
									No Data
								</td>
								<td class="text-center text-{{ project.status.colour }}"
									ng-hide="project.end_date_calculated == null">
									{{ project.end_date_calculated | formatFullDate }}
								</td>
								<td class="text-center">
									<i class="fa fa-user"></i>&nbsp;&nbsp;{{ project.updated_data.user.fullname }}
								</td>
								<td class="text-center">
									<i class="fa fa-clock-o"></i>&nbsp;&nbsp;{{ project.updated_data.time | fromNow }}
								</td>
								<td class="text-right">
									<div class="btn-group btn-group-xs">
										<a <a ui-sref="app.page.project.overview({project_id:project.id})" class="btn btn-default">
											<i class="fa fa-chevron-right"></i>
										</a>
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				<footer class="panel-footer" ng-show="projects_returned">
					<div class="row" ng-show="projects.length > 0">
						<div class="col-sm-4 hidden-xs">
						</div>
						<div class="col-sm-4 text-center">
							<small class="text-muted inline m-t-sm m-b-sm">{{projects.length}} projects</small>
						</div>
						<div class="col-sm-4 text-right text-center-xs">
						</div>
					</div>
				</footer>
			</div>
		</div>
	</div>
</div>
<div ng-init="fireSparklines()"></div>