<!-- toaster directive -->
<toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
<!-- / toaster directive -->
<!-- navbar header -->
<div class="navbar-header {{ app.settings.navbarHeaderColor }}">
	<button class="pull-right visible-xs dk" ui-toggle-class="show" data-target="">
		<i class="glyphicon glyphicon-cog"></i>
	</button>
	<button class="pull-right visible-xs" ui-toggle-class="off-screen" data-target=".app-aside" ui-scroll="app">
		<i class="glyphicon glyphicon-align-justify"></i>
	</button>
	<!-- brand -->
	<a href="#/" class="navbar-brand text-lt b-b b-light">
		<span class="logo">M</span>
		<span class="hidden-folded m-l-xs">{{app.name}}</span>
	</a>
	<!-- / brand -->
</div>
<!-- / navbar header -->
<!-- navbar collapse -->
<div 	class="collapse pos-rlt navbar-collapse box-shadow {{ app.settings.navbarCollapseColor }}"
		ng-controller="HeaderController"
		ng-init="init()">
	<!-- link and dropdown -->
	<ul class="nav navbar-nav hidden-sm">
		<li>
			<a ui-sref="app.home">
				<i class="fa fa-fw fa-plus visible-xs-inline-block"></i>
				<span><i class="fa fa-fw fa-laptop"></i>&nbsp;&nbsp;Home</span>
			</a>
		</li>
		<li class="pos-stc" dropdown ng-click="getProjects()" ng-show="user_has_network">
			<a dropdown-toggle>
				<span>Projects</span>
				<span class="caret"></span>
			</a>
			<div class="dropdown-menu wrapper w-full bg-white">
				<div class="wrapper-xs" ng-hide="projects_returned">
					<i class="fa fa-fw fa-spin fa-refresh"></i>&nbsp;&nbsp;Loading Projects...
				</div>
				<div class="row" ng-show="projects_returned">
					<div class="col-md-8 b-r">
						<div class="row">
							<div class="col-md-12" ng-hide="projects_left.length > 0">
								<div class="m-l-xs m-t-xs m-b-xs">
									We couldn't find any projects associated with you...
									<a ui-sref="app.page.newproject" class="btn btn-primary btn-xs pull-right">
										<i class="fa fa-fw fa-plus"></i>&nbsp;&nbsp;Create New Project
									</a>
								</div>
							</div>
							<div class="col-md-12" ng-show="projects_left.length > 0">
								<div class="m-l-xs m-t-xs m-b-xs font-bold">Projects</div>
							</div>
							<div class="col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<ul class="list-unstyled l-h-2x">
											<li ng-repeat="project in projects_left">
												<a ui-sref="app.page.project.overview({project_id:project.id})">
													<i class="fa fa-fw fa-angle-right text-muted m-r-xs"></i>
													{{ project.name }}
												</a>
											</li>
										</ul>
									</div>
								</div>
							</div>
							<div class="col-sm-6">
								<div class="row">
									<div class="col-xs-12">
										<ul class="list-unstyled l-h-2x">
											<li ng-repeat="project in projects_right">
												<a ui-sref="app.page.project.overview({project_id:project.id})">
													<i class="fa fa-fw fa-angle-right text-muted m-r-xs"></i>
													{{ project.name }}
												</a>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</li>
		<li ng-show="user_has_network">
			<a ui-sref="app.page.network({ id:user_data.network.id })">
				<i class="fa fa-fw fa-plus visible-xs-inline-block"></i>
				<span>{{ user_data.network.name }}</span>
			</a>
		</li>
	</ul>
	<!-- nabar right -->
	<ul class="nav navbar-nav navbar-right" >
		<li dropdown>
			<a href dropdown-toggle>
				<i class="icon-bell fa-fw text-md"></i>
				<span class="visible-xs-inline">Notifications</span>
				<span class="badge badge-sm up bg-danger pull-right-xs" ng-show="recent_notifications.length > 0">
					{{ unread_notification_count }}
				</span>
			</a>
			<!-- dropdown -->
			<div class="dropdown-menu w-xl animated fadeInUp">
				<div class="panel bg-white">
					<div class="panel-heading b-light bg-light">
						<strong ng-hide="notifications_returned">
							<i class="fa fa-fw fa-spin fa-refresh"></i>&nbsp;&nbsp;Loading Notifications...
						</strong>
						<strong ng-show="notifications_returned">
							You have
							<span>{{ unread_notification_count }}</span>
							notifications
						</strong>
					</div>
					<div class="list-group" ng-repeat="notification in recent_notifications">
						<a href class="media list-group-item">
							<span class="pull-left thumb-sm">
								<span class="fa-stack fa-lg">
									<i class="fa fa-circle fa-stack-2x"></i>
									<i class="fa {{ notification.icon }} fa-stack-1x fa-inverse"></i>
								</span>
							</span>
							<span class="media-body block m-b-none">
								{{ notification.text }}<br>
								<small class="text-muted">{{ notification.time.date | fromNow }}</small>
							</span>
						</a>
						<a href class="media list-group-item">
							<span class="media-body block m-b-none">
								{{ notification.text }}<br>
								<small class="text-muted">{{ notification.time.date | fromNow }}</small>
							</span>
						</a>
					</div>
					<div class="panel-footer text-sm">
						<a ui-sref="app.page.settings" class="pull-right">
							<i class="fa fa-cog"></i>
						</a>
						<a ui-sref="app.page.notifications" data-toggle="class:show animated fadeInRight">
							See all the notifications
						</a>
					</div>
				</div>
			</div>
			<!-- / dropdown -->
		</li>
		<li class="dropdown">
			<a href class="dropdown-toggle clear" data-toggle="dropdown">
				<span class="thumb-sm avatar pull-right m-t-n-sm m-b-n-sm m-l-sm">
					<img src="img/a0.jpg" alt="...">
					<i class="on md b-white bottom"></i>
				</span>
				<span class="hidden-sm hidden-md" ng-bind="user_data.fullname"></span> <b class="caret"></b>
			</a>
			<!-- dropdown -->
			<ul class="dropdown-menu w">
				<li>
					<a ui-sref="app.page.profile({ id:user_data.id })">
						Profile
					</a>
				</li>
				<li>
					<a ui-sref="app.page.settings.account">
						Settings
					</a>
				</li>
				<li class="divider"></li>
				<li ng-show="user_has_network">
					<a ui-sref="app.page.network({ id:user_data.network.id })">
						My Network
					</a>
				</li>
				<li ng-show="user_has_network && user_data.network.pivot.role < 3">
					<a ui-sref="app.page.network_settings">
						Network Settings
						<span class="pull-right"><i class="fa fa-edit"></i></span>
					</a>
				</li>
				<li>
					<a ui-sref="app.page.create_network">
						Create New Network
						<span class="pull-right"><i class="fa fa-pencil"></i></span>
					</a>
				</li>
				<li class="divider"></li>
				<li>
					<a ui-sref="access.signin">
						Logout
					</a>
				</li>
			</ul>
			<!-- / dropdown -->
		</li>
	</ul>
	<!-- / navbar right -->
</div>
<!-- / navbar collapse -->